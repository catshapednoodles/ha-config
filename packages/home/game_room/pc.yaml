game_room_pc_package:
  script:
    game_room_turn_on_second_monitor:
      alias: "Game Room: Turn on second monitor"
      mode: single
      icon: mdi:television
      sequence:
        - service: media_player.turn_on
          target:
            entity_id: media_player.43_odyssey_g7
        - wait_template: "{{ is_state('media_player.43_odyssey_g7', 'on') }}"
          timeout: "00:00:30"
        - if:
            - "{{ not wait.completed }}"
          then:
            - service: notify.sicco_phone
              data:
                title: Game Room TV
                message: "Game Room TV would not turn on"
            - stop:
        - delay: "00:00:05"
        - service: button.press
          data: {}
          target:
            entity_id: button.sicco_pc_2_monitors
        - wait_template: "{{ is_state('sensor.sicco_pc_display_display_count', '2') }}"
          timeout: "00:00:30"
        - if:
            - '{{ not wait.completed }}'
          then:
            - service: notify.sicco_phone
              data:
                title: Game Room TV
                message: "Game Room TV might not have turned on. Check if there are any problems"