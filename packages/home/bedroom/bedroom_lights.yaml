bedroom_lights_package:
  adaptive_lighting:
  - name: "Bedroom"
    lights:
      - light.bedroom_ceiling
    min_brightness: 30
    max_brightness: 80
    autoreset_control_seconds: 10800
  - name: "Bedroom Headboard"
    lights:
      - light.bed_headboard
    min_brightness: 40
    max_brightness: 80
    autoreset_control_seconds: 10800
  - name: "Bedroom Closet"
    lights:
      - light.closet_lights
    min_brightness: 50
    max_brightness: 100
    autoreset_control_seconds: 600

  automation:
    - alias: "Bedroom: Light switch"
      id: 5f5dedfa-dc52-4c61-9adc-59c4cbbda0ca
      description: ''
      use_blueprint:
        path: vandalon/z2m EnOcean PTM 215Z (Friends of Hue) switch.yaml
        input:
          controller: Bedroom Switch
          button_1_pressed:
          - service: light.turn_on
            data: {}
            target:
              entity_id: light.bed_headboard
          button_1_held:
            - service: mqtt.publish
              data:
                topic: zigbee2mqtt/Bed Headboard/set
                payload: "{\"brightness_move_onoff\": 51}"
                qos: 0
                retain: false
          button_1_released:
            - service: mqtt.publish
              data:
                topic: zigbee2mqtt/Bed Headboard/set
                payload: "{\"brightness_move\": \"stop\"}"
                qos: 0
                retain: false
          button_2_pressed:
          - service: light.turn_off
            data: {}
            target:
              entity_id: light.bed_headboard
          button_2_held:
            - service: mqtt.publish
              data:
                topic: zigbee2mqtt/Bed Headboard/set
                payload: "{\"brightness_move_onoff\": -51}"
                qos: 0
                retain: false
          button_2_released:
            - service: mqtt.publish
              data:
                topic: zigbee2mqtt/Bed Headboard/set
                payload: "{\"brightness_move\": \"stop\"}"
                qos: 0
                retain: false
          button_3_pressed:
          - service: light.turn_on
            data: {}
            target:
              entity_id: light.bedroom_ceiling
          button_3_held:
            - service: mqtt.publish
              data:
                topic: zigbee2mqtt/Bedroom Ceiling/set
                payload: "{\"brightness_move_onoff\": 51}"
                qos: 0
                retain: false
          button_3_released:
            - service: mqtt.publish
              data:
                topic: zigbee2mqtt/Bedroom Ceiling/set
                payload: "{\"brightness_move\": \"stop\"}"
                qos: 0
                retain: false
          button_4_pressed:
          - service: light.turn_off
            data: {}
            target:
              entity_id: light.bedroom_ceiling
          button_4_held:
            - service: mqtt.publish
              data:
                topic: zigbee2mqtt/Bedroom Ceiling/set
                payload: "{\"brightness_move_onoff\": -51}"
                qos: 0
                retain: false
          button_4_released:
            - service: mqtt.publish
              data:
                topic: zigbee2mqtt/Bedroom Ceiling/set
                payload: "{\"brightness_move\": \"stop\"}"
                qos: 0
                retain: false
          button_1_and_3_pressed:
          - service: light.turn_on
            data: {}
            target:
              entity_id:
                - light.bed_headboard
                - light.bedroom_ceiling
          button_2_and_4_pressed:
          - service: light.turn_off
            data: {}
            target:
              entity_id:
                - light.bed_headboard
                - light.bedroom_ceiling