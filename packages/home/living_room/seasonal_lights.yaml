seasonal_lights_package:
  automation:
    - alias: "Living Room: Toggle window lights"
      id: cdcabb99-616f-41c1-bdad-cdb9b0f75805
      mode: queued
      trigger:
        - platform: state
          entity_id: binary_sensor.sun_low_elevation
        - platform: state
          entity_id: input_boolean.sleep_mode
        - platform: state
          entity_id: light.window_lights
          from: unavailable
      action:
        - choose:
            # Turn on light if there's activity and sun is low or it is dark
            - conditions:
                - condition: state
                  entity_id: binary_sensor.sun_low_elevation
                  state: "on"
                - condition: state
                  entity_id: input_boolean.sleep_mode
                  state: "off"
              sequence:
                - service: light.turn_on
                  data:
                    entity_id: light.window_lights
          default:
            - service: light.turn_off
              data:
                entity_id: light.window_lights
    - alias: "Living Room: Toggle christmas tree"
      id: 01084909-d451-4a53-a2a2-5f260a801286
      mode: queued
      trigger:
        - platform: state
          entity_id: binary_sensor.sun_low_elevation
        - platform: state
          entity_id: input_boolean.sleep_mode
        - platform: state
          entity_id: switch.christmas_tree
          from: unavailable
      action:
        - choose:
            - conditions:
                - condition: state
                  entity_id: binary_sensor.sun_low_elevation
                  state: "on"
                - condition: state
                  entity_id: input_boolean.sleep_mode
                  state: "off"
              sequence:
                - service: switch.turn_on
                  data:
                    entity_id: switch.christmas_tree
          default:
            - service: switch.turn_off
              data:
                entity_id: switch.christmas_tree
